(this.webpackJsonptopfont=this.webpackJsonptopfont||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(7),a=n.n(i),c=(n(13),n(8)),s=n(3),l=n.n(s),u=n(6),d=n(2),h=(n(15),n(0)),f=function(t){return Object(h.jsx)(h.Fragment,{children:t.text.split("").map((function(e,n){return Object(h.jsx)("span",{style:{fontFamily:t.topfont[e]},children:e},n)}))})},j=function(t){return Object(h.jsx)("button",{onClick:t.onClick,style:{width:128,height:128,display:"flex",alignItems:"center",justifyContent:"center",fontSize:64,borderRadius:8,background:"white",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.06)",margin:8,border:0,color:"#502824",fontFamily:t.font},children:t.letter})},p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function b(){return p[Math.random()*p.length|0]}var g=["Arial","Verdana","Helvetica","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT","Abril Fatface","Alfa Slab One","Balsamiq Sans","Bebas Neue","Cabin Sketch","Comfortaa","Concert One","Fredericka the Great","Frijole","Graduate","Lobster","Monoton","Press Start 2P","Righteous","Roboto","Staatliches","UnifrakturMaguntia"];function x(){for(var t=Math.random()*g.length|0,e=t;e===t;)e=Math.random()*g.length|0;return[g[t],g[e]]}var O=function(){var t=Object(o.useState)(+(window.localStorage.getItem("voteCount")||0)||0),e=Object(d.a)(t,2),n=e[0],r=e[1],i=Object(o.useState)(b()),a=Object(d.a)(i,2),s=a[0],g=a[1],O=Object(o.useState)(!1),m=Object(d.a)(O,2),v=m[0],y=m[1],S=Object(o.useState)(!1),k=Object(d.a)(S,2),w=k[0],C=k[1],T=Object(o.useState)(null),F=Object(d.a)(T,2),B=F[0],I=F[1],M=Object(o.useState)(x()),N=Object(d.a)(M,2),R=N[0],L=N[1],z=function(){var t=Object(u.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),r((function(t){var e=t+1;return window.localStorage.setItem("voteCount",""+e),e})),t.prev=2,t.next=5,fetch("https://topfont.arkt.is/vote/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({letter:e,font:n})});case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:return t.prev=9,y(!1),g(b()),L(x()),t.finish(9);case 14:case"end":return t.stop()}}),t,null,[[2,7,9,14]])})));return function(e,n){return t.apply(this,arguments)}}(),A=null;if(B&&"loading"!==B){var P,D=p.split("").map((function(t){return[t,B[t]||{}]})),G=Object(c.a)(D);try{for(G.s();!(P=G.n()).done;){var W=P.value,J=Object.entries(W[1]).sort((function(t,e){return t[1]-e[1]}))[0];W[1]=J?J[0]:void 0}}catch(V){G.e(V)}finally{G.f()}A=Object.fromEntries(D)}return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("div",{style:{fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",background:"#502824",padding:16},children:Object(h.jsxs)("a",{href:"/",style:{color:"white",textDecoration:"none"},children:[Object(h.jsx)("span",{style:{fontWeight:"bold"},children:"topfont"}),Object(h.jsx)("span",{style:{opacity:.5},children:".github.io"})]})}),Object(h.jsxs)("div",{style:{paddingLeft:32,paddingRight:32,paddingTop:16,paddingBottom:16,margin:"0 auto",maxWidth:450},children:[Object(h.jsxs)("p",{style:{marginBottom:32},children:["Topfont is a community-sourced project to find the best combination font, the ",Object(h.jsx)("b",{children:"Topfont"}),". It works by pitting glyphs from various fonts against eachother 1-on-1, and synthesises a whole new font that uses the most popular letter glyph across all fonts for each letter."]}),Object(h.jsx)("p",{children:w?Object(h.jsx)("a",{href:"/",onClick:function(t){t.preventDefault(),C(!1)},children:"Continue voting for glyphs."}):Object(h.jsx)("a",{href:"/topfont",onClick:function(){var t=Object(u.a)(l.a.mark((function t(e){var n,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),C(!0),I("loading"),t.prev=3,t.next=6,fetch("https://topfont.arkt.is/");case 6:return n=t.sent,t.next=9,n.json();case 9:o=t.sent,I(o),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),I(null),C(!1);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),children:"View the Topfont in all it's glory."})}),w?Object(h.jsx)("div",{style:{marginTop:32,fontSize:24,background:"white",paddingTop:1,paddingBottom:1,paddingLeft:32,paddingRight:32,lineHeight:1.25,borderRadius:8},children:"loading"===B?"Loading":Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:Object(h.jsx)(f,{text:"Aa Bb Cc Dd Ee Ff Gg Hh Ii Jj Kk Ll Mm Nn Oo Pp Qq Rr Ss Tt Uu Vv Ww Xx Yy Zz",topfont:A})}),Object(h.jsx)("p",{children:Object(h.jsx)(f,{text:"The quick brown fox jumps over the lazy dog.",topfont:A})})]})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{fontWeight:"bold",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:32,marginTop:64,color:"#502824"},children:"Which looks nicer?"}),Object(h.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:128},children:!v&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j,{letter:s,font:R[0],onClick:function(){z(s,R[0])}}),Object(h.jsx)(j,{letter:s,font:R[1],onClick:function(){z(s,R[1])}})]})}),n>0&&Object(h.jsxs)("div",{style:{marginTop:32,textAlign:"center"},children:["You have voted on"," ",Object(h.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:n})," ","fonts. ",n>20&&" Nice!"]})]})]})]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,o=e.getFID,r=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),o(t),r(t),i(t),a(t)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root")),m()}},[[17,1,2]]]);
//# sourceMappingURL=main.f1148948.chunk.js.map