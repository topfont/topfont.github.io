(this.webpackJsonptopfont=this.webpackJsonptopfont||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var o=n(1),r=n.n(o),i=n(7),c=n.n(i),a=(n(13),n(8)),s=n(3),l=n.n(s),d=n(6),u=n(2),f=(n(15),n(0)),h=function(t){return Object(f.jsx)(f.Fragment,{children:t.text.split("").map((function(e,n){return Object(f.jsx)("span",{style:{fontFamily:t.topfont[e]},children:e},n)}))})},p=function(t){return Object(f.jsx)("button",{onClick:t.onClick,style:{width:128,height:128,display:"flex",alignItems:"center",justifyContent:"center",fontSize:64,borderRadius:8,background:"white",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.06)",margin:8,border:0,color:"#502824",fontFamily:t.font},children:t.letter})},j="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function b(){return j[Math.random()*j.length|0]}var g=["Arial","Verdana","Helvetica","Tahoma","Trebuchet MS","Times New Roman","Georgia","Garamond","Courier New","Brush Script MT"];function x(){for(var t=Math.random()*g.length|0,e=t;e===t;)e=Math.random()*g.length|0;return[g[t],g[e]]}var O=function(){var t=Object(o.useState)(+(window.localStorage.getItem("voteCount")||0)||0),e=Object(u.a)(t,2),n=e[0],r=e[1],i=Object(o.useState)(b()),c=Object(u.a)(i,2),s=c[0],g=c[1],O=Object(o.useState)(!1),m=Object(u.a)(O,2),v=m[0],y=m[1],w=Object(o.useState)(!1),k=Object(u.a)(w,2),S=k[0],C=k[1],T=Object(o.useState)(null),F=Object(u.a)(T,2),I=F[0],B=F[1],M=Object(o.useState)(x()),N=Object(u.a)(M,2),z=N[0],L=N[1],R=function(){var t=Object(d.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),r((function(t){var e=t+1;return window.localStorage.setItem("voteCount",""+e),e})),t.prev=2,t.next=5,fetch("https://topfont.arkt.is/vote/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({letter:e,font:n})});case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:return t.prev=9,y(!1),g(b()),L(x()),t.finish(9);case 14:case"end":return t.stop()}}),t,null,[[2,7,9,14]])})));return function(e,n){return t.apply(this,arguments)}}(),A=null;if(I&&"loading"!==I){var D,J=j.split("").map((function(t){return[t,I[t]||{}]})),P=Object(a.a)(J);try{for(P.s();!(D=P.n()).done;){var V=D.value,W=Object.entries(V[1]).sort((function(t,e){return t[1]-e[1]}))[0];V[1]=W?W[0]:void 0}}catch(E){P.e(E)}finally{P.f()}A=Object.fromEntries(J)}return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("div",{style:{fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",color:"white",background:"#502824",padding:16},children:[Object(f.jsx)("span",{style:{fontWeight:"bold"},children:"topfont"}),Object(f.jsx)("span",{style:{opacity:.5},children:".github.io"})]}),Object(f.jsxs)("div",{style:{paddingLeft:32,paddingRight:32,paddingTop:16,paddingBottom:16},children:[Object(f.jsxs)("p",{style:{marginBottom:32},children:["Topfont is a community-sourced project to find the best combination font, the ",Object(f.jsx)("b",{children:"Topfont"}),". It works pitting glyphs from various fonts against eachother 1-on-1, and synthesises a whole new font that uses the most popular glyphs from all fonts for each letter."]}),Object(f.jsx)("p",{children:S?Object(f.jsx)("a",{href:"/",onClick:function(t){t.preventDefault(),C(!1)},children:"Continue voting for glyphs."}):Object(f.jsx)("a",{href:"/topfont",onClick:function(){var t=Object(d.a)(l.a.mark((function t(e){var n,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),C(!0),B("loading"),t.prev=3,t.next=6,fetch("https://topfont.arkt.is/");case 6:return n=t.sent,t.next=9,n.json();case 9:o=t.sent,B(o),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),B(null),C(!1);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),children:"View the Topfont in all it's glory."})}),S?Object(f.jsx)("div",{style:{marginTop:32,fontSize:24,background:"white",paddingTop:1,paddingBottom:1,paddingLeft:32,paddingRight:32,lineHeight:1.25,borderRadius:8},children:"loading"===I?"Loading":Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:Object(f.jsx)(h,{text:"Aa Bb Cc Dd Ee Ff Gg Hh Ii Jj Kk Ll Mm Nn Oo Pp Qq Rr Ss Tt Uu Vv Ww Xx Yy Zz",topfont:A})}),Object(f.jsx)("p",{children:Object(f.jsx)(h,{text:"The quick brown fox jumps over the lazy dog.",topfont:A})})]})}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{style:{fontWeight:"bold",fontSize:22,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:32,marginTop:64,color:"#502824"},children:"Which looks nicer?"}),Object(f.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:128},children:!v&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p,{letter:s,font:z[0],onClick:function(){R(s,z[0])}}),Object(f.jsx)(p,{letter:s,font:z[1],onClick:function(){R(s,z[1])}})]})}),n>0&&Object(f.jsxs)("div",{style:{marginTop:32,textAlign:"center"},children:["You have voted on"," ",Object(f.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:n})," ","fonts. ",n>20&&" Nice!"]})]})]})]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(e){var n=e.getCLS,o=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),o(t),r(t),i(t),c(t)}))};c.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(O,{})}),document.getElementById("root")),m()}},[[17,1,2]]]);
//# sourceMappingURL=main.ccf59615.chunk.js.map